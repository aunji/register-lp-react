{"ast":null,"code":"var _jsxFileName = \"/Users/macintosh/Documents/Work_project/registerlp/src/LocationForm.js\",\n    _s = $RefreshSig$();\n\nimport * as React from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport Typography from \"@mui/material/Typography\";\nimport { useEffect, useState } from \"react\";\nimport Autocomplete from \"@mui/material/Autocomplete\";\nimport TextField from \"@mui/material/TextField\";\nimport { Box } from \"@mui/system\";\nimport CircularProgress from '@mui/material/CircularProgress';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { createElement as _createElement } from \"react\";\n\nfunction sleep() {\n  let delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return new Promise(resolve => {\n    setTimeout(resolve, delay);\n  });\n}\n\nexport default function LocationForm() {\n  _s();\n\n  const [location, setLocation] = useState([]);\n  const [selected, setSelection] = useState([]);\n  const [open, setOpen] = React.useState(false);\n  const loading = open && location.length === 0; //http://agent.land-prom.com/api/location.php\n  //   async function fetchData() {\n  //     const res = await fetch(\"http://agent.land-prom.com/api/location.php\");\n  //     res.json().then((res) => setLocation(res));\n  //   \n  // useEffect(() => {\n  //   fetch(\"http://agent.land-prom.com/api/location.php\").then((res) =>\n  //     res.json().then((res) => setLocation(res))\n  //   );\n  // }, []);\n\n  useEffect(() => {\n    let active = true;\n\n    if (!loading) {\n      return undefined;\n    }\n\n    (async () => {\n      await sleep(1e3); // For demo purposes.\n\n      if (active) {\n        fetch(\"http://agent.land-prom.com/api/location.php\").then(res => res.json().then(res => setLocation(res)));\n      }\n    })();\n\n    return () => {\n      active = false;\n    };\n  }, [loading]);\n  React.useEffect(() => {\n    if (!open) {\n      setLocation([]);\n    }\n  }, [open]); //   console.log(selected);\n  //   console.log(selected.id);\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      children: \"\\u0E17\\u0E33\\u0E40\\u0E25\\u0E17\\u0E35\\u0E48\\u0E15\\u0E31\\u0E49\\u0E07\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n          open: open,\n          onOpen: () => {\n            setOpen(true);\n          },\n          onClose: () => {\n            setOpen(false);\n          },\n          id: \"location\",\n          loading: loading,\n          options: location,\n          onChange: (event, value) => setSelection(value),\n          getOptionLabel: location => `${location.district} ${location.city} ${location.province} ${location.zipcode}`,\n          renderOption: (props, location) => /*#__PURE__*/_createElement(Box, {\n            component: \"li\",\n            ...props,\n            key: location.id,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }\n          }, location.district, \"  \", location.city, \" \", location.province, \" \", location.zipcode),\n          renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n            label: \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E17\\u0E33\\u0E40\\u0E25\",\n            InputProps: { ...params.InputProps,\n              endAdornment: /*#__PURE__*/_jsxDEV(React.Fragment, {\n                children: [loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                  color: \"inherit\",\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 34\n                }, this) : null, params.InputProps.endAdornment]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 21\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this),\n          noOptionsText: 'ไม่พบทำเล'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LocationForm, \"V5USUzh49xfPDojyMZf1LOENqvE=\");\n\n_c = LocationForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LocationForm\");","map":{"version":3,"sources":["/Users/macintosh/Documents/Work_project/registerlp/src/LocationForm.js"],"names":["React","Grid","Typography","useEffect","useState","Autocomplete","TextField","Box","CircularProgress","sleep","delay","Promise","resolve","setTimeout","LocationForm","location","setLocation","selected","setSelection","open","setOpen","loading","length","active","undefined","fetch","then","res","json","event","value","district","city","province","zipcode","props","id","params","InputProps","endAdornment"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport Typography from \"@mui/material/Typography\";\nimport { useEffect, useState } from \"react\";\nimport Autocomplete from \"@mui/material/Autocomplete\";\nimport TextField from \"@mui/material/TextField\";\nimport { Box } from \"@mui/system\";\nimport CircularProgress from '@mui/material/CircularProgress';\n\nfunction sleep(delay = 0) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, delay);\n  });\n}\n\nexport default function LocationForm() {\n  const [location, setLocation] = useState([]);\n  const [selected, setSelection] = useState([]);\n  const [open, setOpen] = React.useState(false);\n  const loading = open && location.length === 0;\n\n  //http://agent.land-prom.com/api/location.php\n  //   async function fetchData() {\n  //     const res = await fetch(\"http://agent.land-prom.com/api/location.php\");\n  //     res.json().then((res) => setLocation(res));\n  //   \n  // useEffect(() => {\n  //   fetch(\"http://agent.land-prom.com/api/location.php\").then((res) =>\n  //     res.json().then((res) => setLocation(res))\n  //   );\n  // }, []);\n\n  useEffect(() => {\n    let active = true;\n\n    if (!loading) {\n      return undefined;\n    }\n\n    (async () => {\n      await sleep(1e3); // For demo purposes.\n\n      if (active) {\n        fetch(\"http://agent.land-prom.com/api/location.php\").then((res) =>\n        res.json().then((res) => setLocation(res))\n      );\n      }\n    })();\n\n    return () => {\n      active = false;\n    };\n  }, [loading]);\n\n  React.useEffect(() => {\n    if (!open) {\n      setLocation([]);\n    }\n  }, [open]);\n\n\n//   console.log(selected);\n//   console.log(selected.id);\n  return (\n    <React.Fragment>\n      <Typography variant=\"h6\" gutterBottom>\n        ทำเลที่ตั้ง\n      </Typography>\n      <Grid container spacing={3}>\n        <Grid item xs={12}>\n          <Autocomplete\n          open={open}\n          onOpen={() => {\n            setOpen(true);\n          }}\n          onClose={() => {\n            setOpen(false);\n          }}\n            id=\"location\"\n            loading={loading}\n            options={location}\n            onChange={(event, value) => setSelection(value)}\n            getOptionLabel={(location)=> `${location.district} ${location.city} ${location.province} ${location.zipcode}`}\n            renderOption={(props, location) =>(\n                <Box component=\"li\" {...props} key={location.id}>\n                     {location.district}  {location.city} {location.province} {location.zipcode}\n                </Box>\n            )}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                label=\"ค้นหาทำเล\"\n                InputProps={{\n                  ...params.InputProps,\n                  endAdornment: (\n                    <React.Fragment>\n                      {loading ? <CircularProgress color=\"inherit\" size={20} /> : null}\n                      {params.InputProps.endAdornment}\n                    </React.Fragment>\n                  ),\n                }}\n              />\n            )}\n            noOptionsText={'ไม่พบทำเล'}\n          />\n        </Grid>\n      </Grid>\n    </React.Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}